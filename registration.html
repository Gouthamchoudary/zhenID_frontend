<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ZhenID - Media Registration</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/registration.css">
</head>
<body>
  
  <!-- Navbar -->
  <header class="navbar">
    <div class="container">
      <div class="logo">
        <h1><a href="index.html">ZhenID</a></h1>
      </div>
      <nav class="nav">
        <ul class="nav-list">
          <li><a href="registration.html" class="nav-link">Media Registration</a></li>
          <li><a href="verification.html" class="nav-link">Media Authentication</a></li>
          <li class="dropdown">
            <a href="#" class="nav-link dropdown-toggle">Market</a>
            <ul class="dropdown-menu">
              <li><a href="market.html?type=rent" class="dropdown-link">Rent</a></li>
              <li><a href="market.html?type=buy" class="dropdown-link">Buy</a></li>
            </ul>
          </li>
        </ul>
      </nav>
      <div class="nav-actions">
        <button class="btn-login" onclick="openModal()">Login</button>
      </div>
    </div>
  </header>

  <!-- Main Registration Section -->
  <main class="main-content">
    <section class="registration-section">
      <div class="content-box card">
        <h1>ZhenID Media Registration</h1>
        <p>Upload your media for secure registration, verification, and blockchain storage.</p>
        
        <!-- Uploader Name Input -->
        <input type="text" id="uploaderName" placeholder="Enter your name" required class="input-field">

        <!-- File Upload -->
        <input type="file" id="fileInput" accept="image/*,video/*" class="file-input">
        
        <!-- Payment Button -->
        <button onclick="processRegistrationPayment()" class="btn-primary">Pay $0.99 per Media</button>

        <!-- Registration Status -->
        <div id="regStatus" class="status">Waiting for file upload and payment...</div>

        <!-- Download Section -->
        <div id="downloadSection" class="hidden">
          <a id="downloadLink" href="#" download="watermarked_media">Download Watermarked Media</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Login/Signup Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close-button" onclick="closeModal()">&times;</span>

      <!-- Login Form -->
      <div class="modal-body" id="loginFormContainer">
        <h2 class="modal-title">Login to ZhenID</h2>
        <form id="loginFormModal" onsubmit="event.preventDefault(); alert('Logged in successfully!'); closeModal();">
          <div class="form-group">
            <label for="modalUsername">Username or Email</label>
            <input type="text" id="modalUsername" placeholder="Enter your username or email" required>
          </div>
          <div class="form-group">
            <label for="modalPassword">Password</label>
            <input type="password" id="modalPassword" placeholder="Enter your password" required>
          </div>
          <button type="submit" class="btn-primary">Login</button>
        </form>
        <p class="modal-footer">Don't have an account? <a href="#" onclick="toggleModalForms(event)">Sign Up</a></p>
      </div>

      <!-- Signup Form (hidden by default) -->
      <div class="modal-body hidden" id="signupModal">
        <h2 class="modal-title">Sign Up for ZhenID</h2>
        <form id="signupFormModal" onsubmit="event.preventDefault(); alert('Account created successfully! Please log in.'); toggleModalForms(event);">
          <div class="form-group">
            <label for="modalNewUsername">Username or Email</label>
            <input type="text" id="modalNewUsername" placeholder="Enter your username or email" required>
          </div>
          <div class="form-group">
            <label for="modalNewPassword">Password</label>
            <input type="password" id="modalNewPassword" placeholder="Enter your password" required>
          </div>
          <div class="form-group">
            <label for="modalConfirmPassword">Confirm Password</label>
            <input type="password" id="modalConfirmPassword" placeholder="Confirm your password" required>
          </div>
          <button type="submit" class="btn-primary">Sign Up</button>
        </form>
        <p class="modal-footer">Already have an account? <a href="#" onclick="toggleModalForms(event)">Login</a></p>
      </div>
    </div>
  </div>

  <script src="js/registration.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
